(set-logic ALL_SUPPORTED)
(set-option :produce-models true)
(declare-fun Containment () (Set (Tuple String String)))
(declare-fun Tclosure () (Set (Tuple String String)))
(declare-fun Associations () (Set (Tuple String String String)))
(declare-fun UA_U_Reachability () (Set (Tuple String String)))
(declare-fun AT_Reachability () (Set (Tuple String String)))

(assert (= Associations (insert(mkTuple "PI" "delete-copi" "CoPI") 
(mkTuple "PI" "add-copi" "CoPI") 
(mkTuple "PI" "ViewLog" "Audit Log") 
(mkTuple "PI" "write" "PIEditable") 
(mkTuple "PI" "Delete" "PDSWhole") 
(mkTuple "PI" "Submit" "PDSWhole") 
(mkTuple "CoPI" "write" "CoPIEditable") 
(mkTuple "CoPI" "delete-sp" "SP") 
(mkTuple "CoPI" "add-sp" "SP") 
(singleton (mkTuple "SP" "read" "PDSSections")))))

(assert (= Containment (insert (mkTuple "PI" "CoPI") 
(mkTuple "CoPI" "CoPI") 
(mkTuple "Collaboration Info" "CoPIEditable") 
(mkTuple "SP" "SP") 
(mkTuple "ApprovalInfo" "ApprovalInfo") 
(mkTuple "COI" "COI") 
(mkTuple "ChairApproval" "ChairApproval") 
(mkTuple "Research Director" "Research Director") 
(mkTuple "CoPIInfo" "CoPIInfo") 
(mkTuple "PI" "PI") 
(mkTuple "BMApproval" "BMApproval") 
(mkTuple "Business Manager" "Business Manager") 
(mkTuple "ApprovalInfo" "PDSSections") 
(mkTuple "IRBOfficer" "EditingPolicyClass") 
(mkTuple "COI" "CoPIEditable") 
(mkTuple "OSPInfo" "PDSSections") 
(mkTuple "Investigator Info" "Investigator Info") 
(mkTuple "IRBApproval" "IRBApproval") 
(mkTuple "PDSSections" "EditingPolicyClass") 
(mkTuple "Audit Log" "EditingPolicyClass") 
(mkTuple "Chair" "Chair") 
(mkTuple "PDSSections" "PDSSections") 
(mkTuple "IRBApproval" "ApprovalInfo") 
(mkTuple "UnivCommitmentsInfo" "CoPIEditable") 
(mkTuple "Chair" "EditingPolicyClass") 
(mkTuple "SP" "EditingPolicyClass") 
(mkTuple "Additional Info" "Additional Info") 
(mkTuple "Dean" "Dean") 
(mkTuple "Project Info" "PIEditable") 
(mkTuple "Business Manager" "EditingPolicyClass") 
(mkTuple "CostShare Info" "CoPIEditable") 
(mkTuple "CoPIEditable" "PDSSections") 
(mkTuple "Additional Info" "CoPIEditable") 
(mkTuple "DeanApproval" "DeanApproval") 
(mkTuple "Budget Info" "Budget Info") 
(mkTuple "Compliance Info" "Compliance Info") 
(mkTuple "PIEditable" "PIEditable") 
(mkTuple "PDSWhole" "PDSWhole") 
(mkTuple "Collaboration Info" "Collaboration Info") 
(mkTuple "Signature Info" "Signature Info") 
(mkTuple "ChairApproval" "ApprovalInfo") 
(mkTuple "PIInfo" "PIInfo") 
(mkTuple "Compliance Info" "CoPIEditable") 
(mkTuple "PDSWhole" "EditingPolicyClass") 
(mkTuple "UnivCommitmentsInfo" "UnivCommitmentsInfo") 
(mkTuple "Project Info" "Project Info") 
(mkTuple "SPInfo" "Investigator Info") 
(mkTuple "Signature Info" "CoPIEditable") 
(mkTuple "Budget Info" "PIEditable") 
(mkTuple "CoPI" "SP") 
(mkTuple "Research Admin" "EditingPolicyClass") 
(mkTuple "RDApproval" "ApprovalInfo") 
(mkTuple "OSPInfo" "OSPInfo") 
(mkTuple "IRBOfficer" "IRBOfficer") 
(mkTuple "CoPIInfo" "Investigator Info") 
(mkTuple "PIInfo" "Investigator Info") 
(mkTuple "CostShare Info" "CostShare Info") 
(mkTuple "RAApproval" "RAApproval") 
(mkTuple "Proprietary Info" "Proprietary Info") 
(mkTuple "DeanApproval" "ApprovalInfo") 
(mkTuple "Proprietary Info" "CoPIEditable") 
(mkTuple "SPInfo" "SPInfo") 
(mkTuple "PIEditable" "PDSSections") 
(mkTuple "Research Admin" "Research Admin") 
(mkTuple "RAApproval" "ApprovalInfo") 
(mkTuple "Investigator Info" "PDSSections") 
(mkTuple "Audit Log" "Audit Log") 
(mkTuple "Research Director" "EditingPolicyClass") 
(mkTuple "Dean" "EditingPolicyClass") 
(mkTuple "RDApproval" "RDApproval") 
(mkTuple "CoPIEditable" "CoPIEditable") 
(singleton (mkTuple "BMApproval" "ApprovalInfo")))))

(assert (= Tclosure (tclosure Containment)))

(declare-fun SetToCheckUA () (Set (Tuple String String)))
(declare-fun SetToCheckAT () (Set (Tuple String String)))

(assert (= SetToCheckUA (insert (mkTuple "Research Admin" "Research Admin") 
(mkTuple "Chair" "Chair") 
(mkTuple "Research Director" "Research Director") 
(mkTuple "SP" "SP") 
(mkTuple "CoPI" "CoPI") 
(mkTuple "Dean" "Dean") 
(mkTuple "IRBOfficer" "IRBOfficer") 
(mkTuple "Business Manager" "Business Manager") 
(mkTuple "PI" "PI") 
(singleton (mkTuple "PI" "PI")))))

(assert (= SetToCheckAT (insert (mkTuple "Research Admin" "Research Admin") 
(mkTuple "CostShare Info" "CostShare Info") 
(mkTuple "OSPInfo" "OSPInfo") 
(mkTuple "Chair" "Chair") 
(mkTuple "SPInfo" "SPInfo") 
(mkTuple "Collaboration Info" "Collaboration Info") 
(mkTuple "Proprietary Info" "Proprietary Info") 
(mkTuple "Research Director" "Research Director") 
(mkTuple "ApprovalInfo" "ApprovalInfo") 
(mkTuple "DeanApproval" "DeanApproval") 
(mkTuple "Project Info" "Project Info") 
(mkTuple "UnivCommitmentsInfo" "UnivCommitmentsInfo") 
(mkTuple "COI" "COI") 
(mkTuple "SP" "SP") 
(mkTuple "Budget Info" "Budget Info") 
(mkTuple "CoPI" "CoPI") 
(mkTuple "RDApproval" "RDApproval") 
(mkTuple "Audit Log" "Audit Log") 
(mkTuple "PDSSections" "PDSSections") 
(mkTuple "PIEditable" "PIEditable") 
(mkTuple "BMApproval" "BMApproval") 
(mkTuple "Investigator Info" "Investigator Info") 
(mkTuple "PIInfo" "PIInfo") 
(mkTuple "Dean" "Dean") 
(mkTuple "IRBOfficer" "IRBOfficer") 
(mkTuple "RAApproval" "RAApproval") 
(mkTuple "CoPIEditable" "CoPIEditable") 
(mkTuple "Compliance Info" "Compliance Info") 
(mkTuple "Additional Info" "Additional Info") 
(mkTuple "Business Manager" "Business Manager") 
(mkTuple "PI" "PI") 
(mkTuple "PDSWhole" "PDSWhole") 
(mkTuple "IRBApproval" "IRBApproval") 
(mkTuple "ChairApproval" "ChairApproval") 
(mkTuple "CoPIInfo" "CoPIInfo") 
(mkTuple "Signature Info" "Signature Info") 
(singleton (mkTuple "Signature Info" "Signature Info")))))

(assert (= UA_U_Reachability (join SetToCheckUA Tclosure )))
(assert (= AT_Reachability (join SetToCheckAT Tclosure )))
(declare-fun AssociationsForUA () (Set (Tuple String String String)))
(assert (= AssociationsForUA (join UA_U_Reachability Associations) ))
(declare-fun FinalJoin () (Set (Tuple String String String)))
(assert (= FinalJoin (join AssociationsForUA (transpose AT_Reachability)) ))
(check-sat)
(get-model)
(get-value (FinalJoin))
