(set-logic QF_UFLIA)
(set-option :produce-models true)
(declare-fun readyToSend (Int) Int)
(declare-fun msgBuffer (Int) Int)
(declare-fun readyToReceive (Int) Int)
(declare-fun messageReceived (Int) Int)
(declare-fun ackSent (Int) Int)
(declare-fun ackBuffer (Int) Int)
(declare-fun ackReceived (Int) Int)
(declare-fun waitForAck (Int) Int)
(declare-fun k () Int)
(assert (= (readyToSend 0) 1))
(assert (= (readyToReceive 0) 1))
(assert (= (msgBuffer 0) 0))
(assert (= (messageReceived 0) 0))
(assert (= (ackSent 0) 0))
(assert (= (ackBuffer 0) 0))
(assert (= (ackReceived 0) 0))
(assert (= (waitForAck 0) 0))
(assert (= (ackReceived 3) 1))
(assert (= k 3))
(assert  (ite (= (readyToSend (- 1 1)) 1) 
(and
(= (waitForAck 1) 1) 
(= (msgBuffer 1) 1) 
(= (readyToSend 1) 0) 
(= (messageReceived 1) (messageReceived (- 1 1))) 
(= (ackSent 1) (ackSent (- 1 1))) 
(= (ackBuffer 1) (ackBuffer (- 1 1))) 
(= (ackReceived 1) (ackReceived (- 1 1))) 
(= (readyToReceive 1) (readyToReceive (- 1 1))) 
)
 (ite (and (= (msgBuffer (- 1 1)) 1)  (= (readyToReceive (- 1 1)) 1)) 
(and
(= (msgBuffer 1) 0) 
(= (readyToReceive 1) 0) 
(= (messageReceived 1) 1) 
(= (waitForAck 1) (waitForAck (- 1 1))) 
(= (ackSent 1) (ackSent (- 1 1))) 
(= (ackBuffer 1) (ackBuffer (- 1 1))) 
(= (ackReceived 1) (ackReceived (- 1 1))) 
(= (readyToSend 1) (readyToSend (- 1 1))) 
)
 (ite (= (messageReceived (- 1 1)) 1) 
(and
(= (messageReceived 1) 0) 
(= (ackSent 1) 1) 
(= (ackBuffer 1) 1) 
(= (waitForAck 1) (waitForAck (- 1 1))) 
(= (msgBuffer 1) (msgBuffer (- 1 1))) 
(= (readyToReceive 1) (readyToReceive (- 1 1))) 
(= (ackReceived 1) (ackReceived (- 1 1))) 
(= (readyToSend 1) (readyToSend (- 1 1))) 
)
 (ite (and (= (waitForAck (- 1 1)) 1)  (= (ackBuffer (- 1 1)) 1)) 
(and
(= (waitForAck 1) 0) 
(= (ackBuffer 1) 0) 
(= (ackReceived 1) 1) 
(= (messageReceived 1) (messageReceived (- 1 1))) 
(= (msgBuffer 1) (msgBuffer (- 1 1))) 
(= (readyToReceive 1) (readyToReceive (- 1 1))) 
(= (ackSent 1) (ackSent (- 1 1))) 
(= (readyToSend 1) (readyToSend (- 1 1))) 
)
 (ite (= (ackSent (- 1 1)) 1) 
(and
(= (ackSent 1) 0) 
(= (readyToReceive 1) 1) 
(= (waitForAck 1) (waitForAck (- 1 1))) 
(= (messageReceived 1) (messageReceived (- 1 1))) 
(= (msgBuffer 1) (msgBuffer (- 1 1))) 
(= (ackReceived 1) (ackReceived (- 1 1))) 
(= (ackBuffer 1) (ackBuffer (- 1 1))) 
(= (readyToSend 1) (readyToSend (- 1 1))) 
)
 (ite (= (ackReceived (- 1 1)) 1) 
(and
(= (ackReceived 1) 0) 
(= (readyToSend 1) 1) 
(= (waitForAck 1) (waitForAck (- 1 1))) 
(= (messageReceived 1) (messageReceived (- 1 1))) 
(= (msgBuffer 1) (msgBuffer (- 1 1))) 
(= (ackSent 1) (ackSent (- 1 1))) 
(= (ackBuffer 1) (ackBuffer (- 1 1))) 
(= (readyToReceive 1) (readyToReceive (- 1 1))) 
)
(= true false))))))))
(assert  (ite (= (readyToSend (- 2 1)) 1) 
(and
(= (waitForAck 2) 1) 
(= (msgBuffer 2) 1) 
(= (readyToSend 2) 0) 
(= (messageReceived 2) (messageReceived (- 2 1))) 
(= (ackSent 2) (ackSent (- 2 1))) 
(= (ackBuffer 2) (ackBuffer (- 2 1))) 
(= (ackReceived 2) (ackReceived (- 2 1))) 
(= (readyToReceive 2) (readyToReceive (- 2 1))) 
)
 (ite (and (= (msgBuffer (- 2 1)) 1)  (= (readyToReceive (- 2 1)) 1)) 
(and
(= (msgBuffer 2) 0) 
(= (readyToReceive 2) 0) 
(= (messageReceived 2) 1) 
(= (waitForAck 2) (waitForAck (- 2 1))) 
(= (ackSent 2) (ackSent (- 2 1))) 
(= (ackBuffer 2) (ackBuffer (- 2 1))) 
(= (ackReceived 2) (ackReceived (- 2 1))) 
(= (readyToSend 2) (readyToSend (- 2 1))) 
)
 (ite (= (messageReceived (- 2 1)) 1) 
(and
(= (messageReceived 2) 0) 
(= (ackSent 2) 1) 
(= (ackBuffer 2) 1) 
(= (waitForAck 2) (waitForAck (- 2 1))) 
(= (msgBuffer 2) (msgBuffer (- 2 1))) 
(= (readyToReceive 2) (readyToReceive (- 2 1))) 
(= (ackReceived 2) (ackReceived (- 2 1))) 
(= (readyToSend 2) (readyToSend (- 2 1))) 
)
 (ite (and (= (waitForAck (- 2 1)) 1)  (= (ackBuffer (- 2 1)) 1)) 
(and
(= (waitForAck 2) 0) 
(= (ackBuffer 2) 0) 
(= (ackReceived 2) 1) 
(= (messageReceived 2) (messageReceived (- 2 1))) 
(= (msgBuffer 2) (msgBuffer (- 2 1))) 
(= (readyToReceive 2) (readyToReceive (- 2 1))) 
(= (ackSent 2) (ackSent (- 2 1))) 
(= (readyToSend 2) (readyToSend (- 2 1))) 
)
 (ite (= (ackSent (- 2 1)) 1) 
(and
(= (ackSent 2) 0) 
(= (readyToReceive 2) 1) 
(= (waitForAck 2) (waitForAck (- 2 1))) 
(= (messageReceived 2) (messageReceived (- 2 1))) 
(= (msgBuffer 2) (msgBuffer (- 2 1))) 
(= (ackReceived 2) (ackReceived (- 2 1))) 
(= (ackBuffer 2) (ackBuffer (- 2 1))) 
(= (readyToSend 2) (readyToSend (- 2 1))) 
)
 (ite (= (ackReceived (- 2 1)) 1) 
(and
(= (ackReceived 2) 0) 
(= (readyToSend 2) 1) 
(= (waitForAck 2) (waitForAck (- 2 1))) 
(= (messageReceived 2) (messageReceived (- 2 1))) 
(= (msgBuffer 2) (msgBuffer (- 2 1))) 
(= (ackSent 2) (ackSent (- 2 1))) 
(= (ackBuffer 2) (ackBuffer (- 2 1))) 
(= (readyToReceive 2) (readyToReceive (- 2 1))) 
)
(= true false))))))))
(assert  (ite (= (readyToSend (- 3 1)) 1) 
(and
(= (waitForAck 3) 1) 
(= (msgBuffer 3) 1) 
(= (readyToSend 3) 0) 
(= (messageReceived 3) (messageReceived (- 3 1))) 
(= (ackSent 3) (ackSent (- 3 1))) 
(= (ackBuffer 3) (ackBuffer (- 3 1))) 
(= (ackReceived 3) (ackReceived (- 3 1))) 
(= (readyToReceive 3) (readyToReceive (- 3 1))) 
)
 (ite (and (= (msgBuffer (- 3 1)) 1)  (= (readyToReceive (- 3 1)) 1)) 
(and
(= (msgBuffer 3) 0) 
(= (readyToReceive 3) 0) 
(= (messageReceived 3) 1) 
(= (waitForAck 3) (waitForAck (- 3 1))) 
(= (ackSent 3) (ackSent (- 3 1))) 
(= (ackBuffer 3) (ackBuffer (- 3 1))) 
(= (ackReceived 3) (ackReceived (- 3 1))) 
(= (readyToSend 3) (readyToSend (- 3 1))) 
)
 (ite (= (messageReceived (- 3 1)) 1) 
(and
(= (messageReceived 3) 0) 
(= (ackSent 3) 1) 
(= (ackBuffer 3) 1) 
(= (waitForAck 3) (waitForAck (- 3 1))) 
(= (msgBuffer 3) (msgBuffer (- 3 1))) 
(= (readyToReceive 3) (readyToReceive (- 3 1))) 
(= (ackReceived 3) (ackReceived (- 3 1))) 
(= (readyToSend 3) (readyToSend (- 3 1))) 
)
 (ite (and (= (waitForAck (- 3 1)) 1)  (= (ackBuffer (- 3 1)) 1)) 
(and
(= (waitForAck 3) 0) 
(= (ackBuffer 3) 0) 
(= (ackReceived 3) 1) 
(= (messageReceived 3) (messageReceived (- 3 1))) 
(= (msgBuffer 3) (msgBuffer (- 3 1))) 
(= (readyToReceive 3) (readyToReceive (- 3 1))) 
(= (ackSent 3) (ackSent (- 3 1))) 
(= (readyToSend 3) (readyToSend (- 3 1))) 
)
 (ite (= (ackSent (- 3 1)) 1) 
(and
(= (ackSent 3) 0) 
(= (readyToReceive 3) 1) 
(= (waitForAck 3) (waitForAck (- 3 1))) 
(= (messageReceived 3) (messageReceived (- 3 1))) 
(= (msgBuffer 3) (msgBuffer (- 3 1))) 
(= (ackReceived 3) (ackReceived (- 3 1))) 
(= (ackBuffer 3) (ackBuffer (- 3 1))) 
(= (readyToSend 3) (readyToSend (- 3 1))) 
)
 (ite (= (ackReceived (- 3 1)) 1) 
(and
(= (ackReceived 3) 0) 
(= (readyToSend 3) 1) 
(= (waitForAck 3) (waitForAck (- 3 1))) 
(= (messageReceived 3) (messageReceived (- 3 1))) 
(= (msgBuffer 3) (msgBuffer (- 3 1))) 
(= (ackSent 3) (ackSent (- 3 1))) 
(= (ackBuffer 3) (ackBuffer (- 3 1))) 
(= (readyToReceive 3) (readyToReceive (- 3 1))) 
)
(= true false))))))))

(check-sat)
(get-model)