(set-logic QF_UFLIA)
(set-option :produce-models true)
(declare-fun readyToSend (Int) Int)
(declare-fun msgBuffer (Int) Int)
(declare-fun readyToReceive (Int) Int)
(declare-fun messageReceived (Int) Int)
(declare-fun ackSent (Int) Int)
(declare-fun ackBuffer (Int) Int)
(declare-fun ackReceived (Int) Int)
(declare-fun waitForAck (Int) Int)
(declare-fun k () Int)
(assert (= (readyToSend 0) 1))
(assert (= (readyToReceive 0) 1))
(assert (= (msgBuffer 0) 0))
(assert (= (messageReceived 0) 0))
(assert (= (ackSent 0) 0))
(assert (= (ackBuffer 0) 0))
(assert (= (ackReceived 0) 0))
(assert (= (waitForAck 0) 0))
(assert (= (ackReceived 1) 1))
(assert (= k 1))
(assert  (ite (= (readyToSend (- 1 1)) 1) 
(and
(= (waitForAck 1) 1) 
(= (msgBuffer 1) 1) 
(= (readyToSend 1) 0) 
(= (messageReceived 1) (messageReceived (- 1 1))) 
(= (ackSent 1) (ackSent (- 1 1))) 
(= (ackBuffer 1) (ackBuffer (- 1 1))) 
(= (ackReceived 1) (ackReceived (- 1 1))) 
(= (readyToReceive 1) (readyToReceive (- 1 1))) 
)
 (ite (and (= (msgBuffer (- 1 1)) 1)  (= (readyToReceive (- 1 1)) 1)) 
(and
(= (msgBuffer 1) 0) 
(= (readyToReceive 1) 0) 
(= (messageReceived 1) 1) 
(= (waitForAck 1) (waitForAck (- 1 1))) 
(= (ackSent 1) (ackSent (- 1 1))) 
(= (ackBuffer 1) (ackBuffer (- 1 1))) 
(= (ackReceived 1) (ackReceived (- 1 1))) 
(= (readyToSend 1) (readyToSend (- 1 1))) 
)
 (ite (= (messageReceived (- 1 1)) 1) 
(and
(= (messageReceived 1) 0) 
(= (ackSent 1) 1) 
(= (ackBuffer 1) 1) 
(= (waitForAck 1) (waitForAck (- 1 1))) 
(= (msgBuffer 1) (msgBuffer (- 1 1))) 
(= (readyToReceive 1) (readyToReceive (- 1 1))) 
(= (ackReceived 1) (ackReceived (- 1 1))) 
(= (readyToSend 1) (readyToSend (- 1 1))) 
)
 (ite (and (= (waitForAck (- 1 1)) 1)  (= (ackBuffer (- 1 1)) 1)) 
(and
(= (waitForAck 1) 0) 
(= (ackBuffer 1) 0) 
(= (ackReceived 1) 1) 
(= (messageReceived 1) (messageReceived (- 1 1))) 
(= (msgBuffer 1) (msgBuffer (- 1 1))) 
(= (readyToReceive 1) (readyToReceive (- 1 1))) 
(= (ackSent 1) (ackSent (- 1 1))) 
(= (readyToSend 1) (readyToSend (- 1 1))) 
)
 (ite (= (ackSent (- 1 1)) 1) 
(and
(= (ackSent 1) 0) 
(= (readyToReceive 1) 1) 
(= (waitForAck 1) (waitForAck (- 1 1))) 
(= (messageReceived 1) (messageReceived (- 1 1))) 
(= (msgBuffer 1) (msgBuffer (- 1 1))) 
(= (ackReceived 1) (ackReceived (- 1 1))) 
(= (ackBuffer 1) (ackBuffer (- 1 1))) 
(= (readyToSend 1) (readyToSend (- 1 1))) 
)
 (ite (= (ackReceived (- 1 1)) 1) 
(and
(= (ackReceived 1) 0) 
(= (readyToSend 1) 1) 
(= (waitForAck 1) (waitForAck (- 1 1))) 
(= (messageReceived 1) (messageReceived (- 1 1))) 
(= (msgBuffer 1) (msgBuffer (- 1 1))) 
(= (ackSent 1) (ackSent (- 1 1))) 
(= (ackBuffer 1) (ackBuffer (- 1 1))) 
(= (readyToReceive 1) (readyToReceive (- 1 1))) 
)
(= true false))))))))

(check-sat)
(get-model)